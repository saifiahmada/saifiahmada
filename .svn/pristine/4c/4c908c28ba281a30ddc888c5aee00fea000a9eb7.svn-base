package com.trio.test;

import java.util.ArrayList;
import java.util.List;

import org.zkoss.zk.ui.Component;
import org.zkoss.zk.ui.util.GenericForwardComposer;
import org.zkoss.zul.Menu;
import org.zkoss.zul.Menubar;
import org.zkoss.zul.Menuitem;
import org.zkoss.zul.Menupopup;
import org.zkoss.zul.Window;

public class MenubarCtrl extends GenericForwardComposer {

	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	
	private Window win;
	
	private Menubar menubar;
	private Menuitem item;
	private Menupopup menupopupPM, menupopupMK,  menupopupMG;  
	private Menupopup menupopupSB,  menupopupFC,  menupopupLP,  menupopupMS;
	private Menu menu;
	private Menu menuPM, menuMK, menuMG, menuSB, menuFC, menuLP, menuMS;
	
	private List<String> listMenuUtama;
	private List<MenuTrio> listMenuTrio;
	
	@Override
	public void doAfterCompose(Component comp) throws Exception {
		// TODO Auto-generated method stub
		super.doAfterCompose(comp);
		
		createMenu();
		
	}
	
	public void createMenu(){
		
		listMenuUtama = new ArrayList<String>();
		listMenuUtama.add("PM");
		listMenuUtama.add("MK");
		listMenuUtama.add("MG");
		listMenuUtama.add("SB");
		listMenuUtama.add("FC");
		listMenuUtama.add("LP");
		listMenuUtama.add("MS");
		
		listMenuTrio = new ArrayList<MenuTrio>();
		listMenuTrio.add(new MenuTrio("PM", "Pengadaan Motor","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("PM", "Pengadaan Motor2","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("PM", "Pengadaan Motor3","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("MK", "Entry DO","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("MK", "Entry DO2","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("MG", "MG1","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("MG", "MG2","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("MG", "MG3","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("SB", "Cetak Faktur","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("FC", "Finance","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("LP", "Laporan 1","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("MS", "Dealer","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("MS", "Kecamatan","dealer.zul","/image/stnk.png"));
		listMenuTrio.add(new MenuTrio("MS", "Keluarahan","dealer.zul","/image/stnk.png"));
		
		menubar = new Menubar();
		menupopupPM = new Menupopup();
		menupopupMK = new Menupopup();
		menupopupMG = new Menupopup();
		menupopupSB = new Menupopup();
		menupopupFC = new Menupopup();
		menupopupLP = new Menupopup();
		menupopupMS = new Menupopup();
		
		menuPM = new Menu();
		menuPM.setLabel("Pengadaan Motor");
		menuPM.setImage("/image/stnk.png");
		
		menuMK = new Menu();
		menuMK.setLabel("Marketing");
		menuMK.setImage("/image/stnk.png");
		
		menuMG = new Menu();
		menuMG.setLabel("Manajemen Gudang");
		menuMG.setImage("/image/stnk.png");
		
		menuSB = new Menu();
		menuSB.setLabel("STNK BPKB");
		menuSB.setImage("/image/stnk.png");
		
		menuFC = new Menu();
		menuFC.setLabel("Finance");
		menuFC.setImage("/image/stnk.png");
		
		menuLP = new Menu();
		menuLP.setLabel("Laporan");
		menuLP.setImage("/image/stnk.png");
		
		menuMS = new Menu();
		menuMS.setLabel("Master");
		menuMS.setImage("/image/stnk.png");
		
			for (MenuTrio mt : listMenuTrio){
				
				if (mt.getParent().equalsIgnoreCase("PM")){
					
					item = new Menuitem();
					item.setLabel(mt.getTitle());
					item.setParent(menupopupPM);
					item.setImage(mt.getImage());
					item.setHref(mt.getPath());
					
					menupopupPM.setParent(menuPM);
					menuPM.setParent(menubar);
				}
				
				if (mt.getParent().equalsIgnoreCase("MK")){
					
					item = new Menuitem();
					item.setLabel(mt.getTitle());
					item.setParent(menupopupMK);
					item.setImage(mt.getImage());
					item.setHref(mt.getPath());
					
					menupopupMK.setParent(menuMK);
					menuMK.setParent(menubar);
				}
				
				if (mt.getParent().equalsIgnoreCase("MG")){
					
					item = new Menuitem();
					item.setLabel(mt.getTitle());
					item.setParent(menupopupMG);
					item.setImage(mt.getImage());
					item.setHref(mt.getPath());
					
					menupopupMG.setParent(menuMG);
					menuMG.setParent(menubar);
				}
				
				if (mt.getParent().equalsIgnoreCase("SB")){
					
					item = new Menuitem();
					item.setLabel(mt.getTitle());
					item.setParent(menupopupSB);
					item.setImage(mt.getImage());
					item.setHref(mt.getPath());
					
					menupopupSB.setParent(menuSB);
					menuSB.setParent(menubar);
				}
				
				if (mt.getParent().equalsIgnoreCase("FC")){
					
					item = new Menuitem();
					item.setLabel(mt.getTitle());
					item.setParent(menupopupFC);
					item.setImage(mt.getImage());
					item.setHref(mt.getPath());
					
					menupopupFC.setParent(menuFC);
					menuFC.setParent(menubar);
				}
				
				if (mt.getParent().equalsIgnoreCase("LP")){
					
					item = new Menuitem();
					item.setLabel(mt.getTitle());
					item.setParent(menupopupLP);
					item.setImage(mt.getImage());
					item.setHref(mt.getPath());
					
					menupopupLP.setParent(menuLP);
					menuLP.setParent(menubar);
				}
				
				if (mt.getParent().equalsIgnoreCase("MS")){
					
					item = new Menuitem();
					item.setLabel(mt.getTitle());
					item.setParent(menupopupMS);
					item.setImage(mt.getImage());
					item.setHref(mt.getPath());
					
					menupopupMS.setParent(menuMS);
					menuMS.setParent(menubar);
				}
			
		}
		menubar.setParent(win);
	}

}
