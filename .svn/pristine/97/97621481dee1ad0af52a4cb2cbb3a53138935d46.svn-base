package com.trio.base;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.zkoss.zk.ui.Sessions;
import org.zkoss.zk.ui.util.GenericForwardComposer;

import com.trio.facade.MasterFacade;

/*
 * Created by Saifi Ramli $
 * 
 * Tue Sep 25 21:03:40 PM @ kos Bandaneira
 */

public class TrioBasePage extends GenericForwardComposer {
	
	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	
	private static String userSession;
	
	private ApplicationContext applicationContext = new ClassPathXmlApplicationContext("applicationContext.xml");
	
	public MasterFacade getMasterFacade() {
		MasterFacade mf = (MasterFacade) applicationContext.getBean("masterFacade");
		return mf;
	}

	public static String getUserSession() {
		String username = (String) Sessions.getCurrent().getAttribute("username");
		System.out.println("username = "+username);
		userSession = username;
		return userSession;
	}

	public static void setUserSession(String userSession) {
		TrioBasePage.userSession = userSession;
	}
	

}
